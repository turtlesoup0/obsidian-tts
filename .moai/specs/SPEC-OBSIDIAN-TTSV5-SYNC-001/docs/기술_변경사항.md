# TTS v5 ë™ê¸°í™” ê¸°ëŠ¥ ê¸°ìˆ  ë³€ê²½ì‚¬í•­

**ë²„ì „**: 5.4.0
**ì—…ë°ì´íŠ¸**: 2026-02-04
**ìœ ì§€ë³´ìˆ˜**: ê°œë°œíŒ€

---

## ê°œìš”

ì´ ë¬¸ì„œëŠ” SPEC-OBSIDIAN-TTSV5-SYNC-001 êµ¬í˜„ìœ¼ë¡œ ì¸í•œ ê¸°ìˆ ì  ë³€ê²½ì‚¬í•­ì„ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

**v5.4.0 ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- ê¸°ì¡´ ê°œë³„ ì¬ìƒ/ì¼ì‹œì •ì§€ ë²„íŠ¼ ì œê±°, í† ê¸€ ë²„íŠ¼ë§Œ ìœ ì§€
- Azure ë™ê¸°í™” â†’ M4 Pro ì„œë²„ë¡œ ë³€ê²½

---

## ë³€ê²½ëœ íŒŒì¼

### 1. `views/tts-engine/view.js`

**ë³€ê²½ ì‚¬í•­**: ì¬ìƒ ì—”ì§„ì— ë™ê¸°í™”, ìë™ ì¬ìƒ, í† ê¸€ ê¸°ëŠ¥ ì¶”ê°€

**ì£¼ìš” ë³€ê²½**:

#### 1.1 ì‹¤ì‹œê°„ ë™ê¸°í™” ê°•í™” (R1)

```javascript
// speakNoteWithServerCache() í•¨ìˆ˜ ë‚´ ì¬ìƒ ì‹œì‘ ì¦‰ì‹œ ì„œë²„ì— ì €ì¥
const timestamp = Date.now();
localStorage.setItem('azureTTS_lastPlayedIndex', index.toString());
localStorage.setItem('azureTTS_lastPlayedTimestamp', timestamp.toString());
localStorage.setItem('azureTTS_lastPlayedTitle', page.file.name);

// ì„œë²„ì— ì¦‰ì‹œ ì €ì¥ (ë¹„ë™ê¸°, ì‹¤íŒ¨í•´ë„ ì¬ìƒ ê³„ì†)
window.playbackPositionManager.savePosition(
    index,
    page.file.path,
    page.file.name
).catch(error => {
    console.warn('âš ï¸ Failed to save playback position to server:', error);
});
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ë¹„ë™ê¸° ì €ì¥ìœ¼ë¡œ ì¬ìƒ ì§€ì—° ë°©ì§€
- ì‹¤íŒ¨í•´ë„ ì¬ìƒ ì¤‘ë‹¨ ì—†ìŒ (fault-tolerant)
- íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ì¶©ëŒ í•´ì†Œ

#### 1.2 ë§ˆì§€ë§‰ ì¬ìƒ ë…¸íŠ¸ ìë™ ì‹¤í–‰ (R2)

```javascript
// azureTTSPlay() í•¨ìˆ˜ ë‚´ ìë™ ì¬ìƒ ë¡œì§
const syncedIndex = await window.playbackPositionManager.syncPosition(savedIndex);
reader.lastPlayedIndex = syncedIndex;

// ë§ˆì§€ë§‰ ì¬ìƒ ë…¸íŠ¸ê°€ ìˆëŠ” ê²½ìš°, í•´ë‹¹ ë…¸íŠ¸ë¶€í„° ì¬ìƒ
if (syncedIndex >= 0 && syncedIndex < reader.pages.length) {
    window.ttsLog(`ğŸ”„ ë§ˆì§€ë§‰ ì¬ìƒ: ${syncedIndex + 1}ë²ˆ ë…¸íŠ¸ - ìë™ ì¬ìƒí•©ë‹ˆë‹¤`);
    reader.currentIndex = syncedIndex;

    const lastPlayedDiv = document.getElementById('last-played-info');
    if (lastPlayedDiv) {
        const lastNote = reader.pages[syncedIndex];
        lastPlayedDiv.innerHTML = `
            ğŸ”„ ë§ˆì§€ë§‰ ì¬ìƒ ë³µì›: <strong>[${syncedIndex + 1}/${reader.pages.length}]</strong> ${lastNote.file.name}
            <br><small style="opacity: 0.9;">ê³„ì† ì¬ìƒí•©ë‹ˆë‹¤...</small>
        `;
    }
}
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ì„œë²„ì™€ ë¡œì»¬ íƒ€ì„ìŠ¤íƒ¬í”„ ë¹„êµë¡œ ìµœì‹  ìœ„ì¹˜ í™•ì¸
- UI í”¼ë“œë°±ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ í˜„ì¬ ìƒíƒœ ëª…í™•íˆ ì „ë‹¬
- ì¸ë±ìŠ¤ ë²”ìœ„ ê²€ì¦ìœ¼ë¡œ ì•ˆì „ì„± í™•ë³´

#### 1.3 í†µí•© ì¬ìƒ/ì¼ì‹œì •ì§€ í† ê¸€ (R3)

```javascript
// azureTTSTogglePlayPause() í•¨ìˆ˜ ì¶”ê°€
window.azureTTSTogglePlayPause = async function() {
    const reader = window.azureTTSReader;

    // ë¡œë”© ì¤‘ì´ë©´ ë¬´ì‹œ
    if (reader.isLoading) {
        console.warn('âš ï¸ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.');
        return;
    }

    // ì¼ì‹œì •ì§€ ìƒíƒœì´ë©´ ì¬ìƒ ì¬ê°œ
    if (reader.isPaused) {
        if (reader.audioElement.src && reader.audioElement.readyState >= 2) {
            try {
                await reader.audioElement.play();
                reader.isPaused = false;
                updateToggleButtonState(true);
                return;
            } catch (error) {
                console.error('âŒ ì¬ìƒ ì¬ê°œ ì‹¤íŒ¨:', error);
            }
        }
        reader.isPaused = false;
    }

    // ì¬ìƒ ì¤‘ì´ë©´ ì¼ì‹œì •ì§€
    if (!reader.audioElement.paused && !reader.isStopped) {
        window.azureTTSPause();
        updateToggleButtonState(false);
        return;
    }

    // ì •ì§€ ìƒíƒœì´ë©´ ìƒˆë¡œ ì¬ìƒ
    await window.azureTTSPlay();
    updateToggleButtonState(true);
};

// í† ê¸€ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
function updateToggleButtonState(isPlaying) {
    const toggleBtn = document.getElementById('tts-toggle-play-pause-btn');
    if (toggleBtn) {
        if (isPlaying) {
            toggleBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            toggleBtn.style.background = '#FF9800';
        } else {
            toggleBtn.textContent = 'â–¶ï¸ ì¬ìƒ';
            toggleBtn.style.background = '#4CAF50';
        }
    }
}
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ìƒíƒœ ë¨¸ì‹  ê¸°ë°˜ í† ê¸€ ë¡œì§
- ë¡œë”© ì¤‘ ì¬ì§„ì… ë°©ì§€
- ëª…í™•í•œ ìƒíƒœ ì „í™˜

#### 1.4 ì¬ìƒ ì¤‘ì¸ ë…¸íŠ¸ ê°•ì¡° í‘œì‹œ (R4)

```javascript
// ëª¨ë“  ë…¸íŠ¸ í–‰ ê°•ì¡° í•´ì œ
for (let i = 0; i < reader.pages.length; i++) {
    const row = document.getElementById(`note-row-${i}`);
    if (row) {
        row.style.background = '';
        row.style.fontWeight = '';
    }
}

// í˜„ì¬ ì¬ìƒ ì¤‘ì¸ ë…¸íŠ¸ ê°•ì¡° í‘œì‹œ
const currentRow = document.getElementById(`note-row-${index}`);
if (currentRow) {
    currentRow.style.background = 'linear-gradient(90deg, rgba(76,175,80,0.2), rgba(76,175,80,0.1))';
    currentRow.style.fontWeight = 'bold';
}
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ìœ¼ë¡œ ì‹œê°ì  êµ¬ë¶„
- ëª¨ë“  í–‰ ì´ˆê¸°í™”ë¡œ ì¤‘ë³µ ê°•ì¡° ë°©ì§€
- ì¬ìƒ ì™„ë£Œ ì‹œ ìë™ í•´ì œ

---

### 2. `views/tts-position/view.js`

**ë³€ê²½ ì‚¬í•­**: ë™ê¸°í™” ìƒíƒœ UI ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ ì¶”ê°€

**ì£¼ìš” ë³€ê²½**:

#### 2.1 ë™ê¸°í™” ìƒíƒœ UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (R4)

```javascript
// updateSyncStatusUI() í•¨ìˆ˜ ì¶”ê°€
updateSyncStatusUI(status, serverData = null) {
    const syncStatusDiv = document.getElementById('sync-status-info');
    const syncStatusText = document.getElementById('sync-status-text');

    if (!syncStatusDiv || !syncStatusText) return;

    const statusConfig = {
        syncing: {
            icon: 'ğŸ”„',
            text: 'ì„œë²„ ë™ê¸°í™” ì¤‘...',
            color: 'rgba(255,193,7,0.3)'
        },
        server: {
            icon: 'â˜ï¸',
            text: `ì„œë²„ì—ì„œ ë™ê¸°í™”ë¨ (${serverData?.deviceId || 'ì•Œ ìˆ˜ ì—†ìŒ'}ì—ì„œ ì—…ë°ì´íŠ¸)`,
            color: 'rgba(76,175,80,0.3)'
        },
        uploaded: {
            icon: 'âœ…',
            text: 'ì„œë²„ì— ì—…ë¡œë“œë¨',
            color: 'rgba(76,175,80,0.3)'
        },
        local: {
            icon: 'ğŸ“±',
            text: 'ë¡œì»¬ ìƒíƒœ ì‚¬ìš©',
            color: 'rgba(158,158,158,0.3)'
        }
    };

    const config = statusConfig[status] || statusConfig.local;
    syncStatusDiv.style.background = config.color;
    syncStatusText.textContent = `${config.icon} ${config.text}`;
}
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ìƒíƒœë³„ ì„¤ì • ê°ì²´ë¡œ ê´€ë¦¬ ìš©ì´ì„± í™•ë³´
- ë™ì  ë©”ì‹œì§€ ìƒì„± (ë””ë°”ì´ìŠ¤ ID í¬í•¨)
- ì•ˆì „í•œ null ì²´í¬

#### 2.2 ë™ê¸°í™” ë¡œì§ ê°œì„  (R1)

```javascript
async syncPosition(localIndex) {
    const serverData = await this.getPosition();
    const localTimestamp = parseInt(localStorage.getItem('azureTTS_lastPlayedTimestamp') || '0', 10);

    // ë™ê¸°í™” ìƒíƒœ UI ì—…ë°ì´íŠ¸
    this.updateSyncStatusUI('syncing');

    // ì„œë²„ ë°ì´í„°ê°€ ë” ìµœì‹ ì´ë©´ ì„œë²„ ê°’ ì‚¬ìš©
    if (serverData.timestamp && serverData.timestamp > localTimestamp) {
        window.ttsLog(`ğŸ”„ Using server position (newer): index=${serverData.lastPlayedIndex}, device=${serverData.deviceId}`);

        localStorage.setItem('azureTTS_lastPlayedIndex', serverData.lastPlayedIndex.toString());
        localStorage.setItem('azureTTS_lastPlayedTimestamp', serverData.timestamp.toString());
        if (serverData.noteTitle) {
            localStorage.setItem('azureTTS_lastPlayedTitle', serverData.noteTitle);
        }

        this.updateSyncStatusUI('server', serverData);
        return serverData.lastPlayedIndex;
    }

    // ë¡œì»¬ì´ ë” ìµœì‹ ì´ë©´ ì„œë²„ì— ì—…ë°ì´íŠ¸
    if (localTimestamp > (serverData.timestamp || 0) && localIndex >= 0) {
        window.ttsLog('ğŸ”„ Syncing local position to server...');
        const pages = window.azureTTSReader?.pages;
        if (pages && pages[localIndex]) {
            await this.savePosition(
                localIndex,
                pages[localIndex].file.path,
                pages[localIndex].file.name
            );
        }
        this.updateSyncStatusUI('uploaded');
    } else {
        this.updateSyncStatusUI('local');
    }

    return localIndex;
}
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ì¶©ëŒ í•´ì†Œ (last-write-wins)
- ì–‘ë°©í–¥ ë™ê¸°í™”
- UI ìƒíƒœ ë³€í™”ë¡œ ì‚¬ìš©ì í”¼ë“œë°± ì œê³µ

---

### 3. `views/tts-ui/view.js`

**ë³€ê²½ ì‚¬í•­**: UIì— í† ê¸€ ë²„íŠ¼ ë° ë™ê¸°í™” ìƒíƒœ ì˜ì—­ ì¶”ê°€

**ì£¼ìš” ë³€ê²½**:

#### 3.1 í†µí•© í† ê¸€ ë²„íŠ¼ UI (R3)

```javascript
// í†µí•© ì¬ìƒ/ì¼ì‹œì •ì§€ í† ê¸€ ë²„íŠ¼ (ì£¼ìš” ë²„íŠ¼)
const toggleBtn = controlsDiv.createEl('button', {
    text: 'â–¶ï¸ ì¬ìƒ',
    attr: {
        id: 'tts-toggle-play-pause-btn',
        style: btnStyle + 'background: #4CAF50; padding: 15px 30px; font-size: 18px;'
    }
});
toggleBtn.onclick = window.azureTTSTogglePlayPause;
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ë” í° ë²„íŠ¼ í¬ê¸°ë¡œ ì£¼ìš” ì»¨íŠ¸ë¡¤ ê°•ì¡°
- ëª…í™•í•œ IDë¡œ JavaScriptì—ì„œ ì‰½ê²Œ ì ‘ê·¼
- ê¸°ì¡´ ê°œë³„ ì¬ìƒ/ì¼ì‹œì •ì§€ ë²„íŠ¼ ì œê±°ë¨ (v5.4.0)

#### 3.2 ë™ê¸°í™” ìƒíƒœ í‘œì‹œ ì˜ì—­ (R4)

```javascript
// ë™ê¸°í™” ìƒíƒœ í‘œì‹œ ì˜ì—­ ì¶”ê°€
const syncStatusDiv = controlsDiv.createEl('div', {
    attr: {
        id: 'sync-status-info',
        style: 'margin-bottom: 10px; padding: 8px; background: rgba(33,150,243,0.2); border-radius: 6px; color: white; font-size: 12px; display: flex; align-items: center; gap: 8px;'
    }
});

// ì´ˆê¸° ë™ê¸°í™” ìƒíƒœ í‘œì‹œ
syncStatusDiv.innerHTML = `
    ğŸ”„ <span id="sync-status-text">ì„œë²„ ë™ê¸°í™” ì¤€ë¹„ ì™„ë£Œ</span>
`;
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- Flexboxë¡œ ì¤‘ì•™ ì •ë ¬
- ì´ˆê¸° ìƒíƒœ ë©”ì‹œì§€ë¡œ ì‚¬ìš©ì ì•ˆë‚´
- ëª…í™•í•œ IDë¡œ ë™ì  ì—…ë°ì´íŠ¸ ì§€ì›

#### 3.3 ë…¸íŠ¸ ëª©ë¡ ID ì¶”ê°€ (R4)

```javascript
pages.forEach((p, idx) => {
    // ì¬ìƒ ì¤‘ì¸ ë…¸íŠ¸ ê°•ì¡° í‘œì‹œë¥¼ ìœ„í•œ ID ì¶”ê°€
    const row = tbody.createEl('tr', {
        attr: {
            id: `note-row-${idx}`,
            style: 'border: 1px solid #ddd;'
        }
    });
    // ... ë‚˜ë¨¸ì§€ ì½”ë“œ
});
```

**ê¸°ìˆ ì  íŠ¹ì§•**:
- ê° í–‰ì— ê³ ìœ  ID ë¶€ì—¬
- JavaScriptì—ì„œ ì‰½ê²Œ ì ‘ê·¼í•˜ì—¬ ìŠ¤íƒ€ì¼ ë³€ê²½ ê°€ëŠ¥

---

## ë°ì´í„° í”Œë¡œìš°

### ì¬ìƒ ì‹œì‘ ì‹œ ë™ê¸°í™” í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant UI as TTS UI
    participant Engine as TTS Engine
    participant Position as Position Manager
    participant Server as M4 Pro Server

    User->>UI: í† ê¸€ ë²„íŠ¼ í´ë¦­
    UI->>Engine: azureTTSTogglePlayPause()
    Engine->>Engine: ìƒíƒœ í™•ì¸ (ì •ì§€/ì¬ìƒ/ì¼ì‹œì •ì§€)
    Engine->>Position: syncPosition(localIndex)
    Position->>Server: GET /api/playback-position
    Server-->>Position: serverData (timestamp, index)
    Position->>Position: íƒ€ì„ìŠ¤íƒ¬í”„ ë¹„êµ
    alt ì„œë²„ ë°ì´í„°ê°€ ìµœì‹ 
        Position->>UI: updateSyncStatusUI('server')
        Position-->>Engine: serverIndex
    else ë¡œì»¬ ë°ì´í„°ê°€ ìµœì‹ 
        Position->>Server: PUT /api/playback-position
        Position->>UI: updateSyncStatusUI('uploaded')
        Position-->>Engine: localIndex
    end
    Engine->>Engine: currentIndex ì„¤ì •
    Engine->>UI: ë§ˆì§€ë§‰ ì¬ìƒ ì •ë³´ í‘œì‹œ
    Engine->>Engine: speakNoteWithServerCache()
```

### ì¬ìƒ ì¤‘ ì‹¤ì‹œê°„ ë™ê¸°í™” í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant Engine as TTS Engine
    participant Position as Position Manager
    participant Server as M4 Pro Server

    Engine->>Engine: speakNoteWithServerCache() í˜¸ì¶œ
    Engine->>Engine: localStorage ì—…ë°ì´íŠ¸
    Engine->>Position: savePosition() (ë¹„ë™ê¸°)
    Position->>Server: PUT /api/playback-position
    Server-->>Position: ì €ì¥ ì™„ë£Œ
    Position-->>Engine: (ì‹¤íŒ¨í•´ë„ ì¬ìƒ ê³„ì†)
    Engine->>Engine: ì˜¤ë””ì˜¤ ì¬ìƒ ì‹œì‘
```

---

## API ë³€ê²½ì‚¬í•­

### M4 Pro ì„œë²„ ì—”ë“œí¬ì¸íŠ¸ (v5.4.0 ë³€ê²½)

**Playback Position API**:
- `GET http://100.107.208.106:5051/api/playback-position`: í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ ì¡°íšŒ
- `PUT http://100.107.208.106:5051/api/playback-position`: ì¬ìƒ ìœ„ì¹˜ ì €ì¥

**ì´ì „ Azure Function ì—”ë“œí¬ì¸íŠ¸ (v5.3.0ê¹Œì§€)**:
- `GET https://obsidian-tts-func-hwh0ffhneka3dtaa.koreacentral-01.azurewebsites.net/api/playback-position`
- `PUT https://obsidian-tts-func-hwh0ffhneka3dtaa.koreacentral-01.azurewebsites.net/api/playback-position`

**Request/Response Format**:

```javascript
// GET Response
{
    lastPlayedIndex: 15,
    notePath: "/path/to/note.md",
    noteTitle: "ë³´ì•ˆ ê´€ë¦¬ ì²´ê³„",
    timestamp: 1707045600000,
    deviceId: "Macintosh-abc123"
}

// PUT Request
{
    lastPlayedIndex: 16,
    notePath: "/path/to/next.md",
    noteTitle: "ë‹¤ìŒ ë…¸íŠ¸",
    deviceId: "Macintosh-abc123"
}
```

---

## LocalStorage ë°ì´í„° êµ¬ì¡°

### í‚¤ ì €ì¥ì†Œ

| í‚¤ | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|---|------|------|------|
| `azureTTS_lastPlayedIndex` | string | ë§ˆì§€ë§‰ ì¬ìƒ ì¸ë±ìŠ¤ | `"15"` |
| `azureTTS_lastPlayedTimestamp` | string | ë§ˆì§€ë§‰ ì¬ìƒ íƒ€ì„ìŠ¤íƒ¬í”„ | `"1707045600000"` |
| `azureTTS_lastPlayedTitle` | string | ë§ˆì§€ë§‰ ì¬ìƒ ë…¸íŠ¸ ì œëª© | `"ë³´ì•ˆ ê´€ë¦¬ ì²´ê³„"` |
| `azureTTS_deviceId` | string | ë””ë°”ì´ìŠ¤ ê³ ìœ  ID | `"Macintosh-abc123"` |

---

## í˜¸í™˜ì„±

### í•˜ìœ„ í˜¸í™˜ì„±

- **ìºì‹œ ì‹œìŠ¤í…œ**: ê¸°ì¡´ ì˜¤í”„ë¼ì¸/ì„œë²„ ìºì‹œ ê·¸ëŒ€ë¡œ ì‘ë™
- **ì •ì§€/ì´ì „/ë‹¤ìŒ ë²„íŠ¼**: ê³„ì† ì œê³µ
- **ì†ë„ ì¡°ì ˆ**: ê¸°ì¡´ ê¸°ëŠ¥ ê·¸ëŒ€ë¡œ ì‘ë™
- **API ëª¨ë“œ**: ë¡œì»¬/ì„œë²„ ëª¨ë“œ ì§€ì›

**v5.4.0 ë³€ê²½ì‚¬í•­**:
- ê¸°ì¡´ ì¬ìƒ ì‹œì‘/ì¼ì‹œì •ì§€ ë²„íŠ¼ ì œê±°ë¨
- í† ê¸€ ë²„íŠ¼(`azureTTSTogglePlayPause`)ë¡œ í†µí•©ë¨
- Azure ì„œë²„ ëŒ€ì‹  M4 Pro ì„œë²„ ì‚¬ìš©

### ë¸Œë¼ìš°ì € ì§€ì›

- Chrome/Edge: ì™„ì „ ì§€ì›
- Safari: ì™„ì „ ì§€ì› (iOS ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ í¬í•¨)
- Firefox: ì™„ì „ ì§€ì›
- ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €: ì™„ì „ ì§€ì›

---

## ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

### ë™ê¸°í™” ì§€ì—° ìµœì†Œí™”

- ë¹„ë™ê¸° ì €ì¥ìœ¼ë¡œ ì¬ìƒ ì§€ì—° ë°©ì§€
- íƒ€ì„ì•„ì›ƒ ì„¤ì • (10ì´ˆ)ìœ¼ë¡œ ë¬´í•œ ëŒ€ê¸° ë°©ì§€
- ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ í´ë°±

### ë©”ëª¨ë¦¬ ê´€ë¦¬

- Blob URL ì ì ˆí•œ í•´ì œ
- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¤‘ë³µ ë°©ì§€
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í¬ê¸° ëª¨ë‹ˆí„°ë§

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ë””ë°”ì´ìŠ¤ ID

- ê³ ìœ  ì‹ë³„ì ìƒì„± (platform + random)
- ì‚¬ìš©ì ê°œì¸ ì •ë³´ ë¯¸í¬í•¨
- ì„œë²„ ì „ì†¡ ì‹œ HTTPS ì‚¬ìš©

### ë°ì´í„° ì „ì†¡

- ëª¨ë“  API í†µì‹ ì€ HTTPS
- ì¸ì¦ í—¤ë”ë¡œ API í‚¤ ë³´í˜¸
- ë¯¼ê° ì •ë³´ ë¯¸ì €ì¥

---

## í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

- [x] syncPosition() íƒ€ì„ìŠ¤íƒ¬í”„ ë¹„êµ ë¡œì§
- [x] updateSyncStatusUI() ìƒíƒœë³„ ë Œë”ë§
- [x] azureTTSTogglePlayPause() ìƒíƒœ ì „í™˜
- [x] updateToggleButtonState() ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½

### í†µí•© í…ŒìŠ¤íŠ¸

- [x] ë‹¤ì¤‘ ë””ë°”ì´ìŠ¤ ë™ê¸°í™” ì‹œë‚˜ë¦¬ì˜¤
- [x] ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ í´ë°±
- [x] UI ìƒíƒœ ë™ê¸°í™”
- [x] ìºì‹œì™€ ë™ê¸°í™” ë³‘í–‰

---

## ë¬¸ì œ í•´ê²°

### ì•Œë ¤ì§„ ë¬¸ì œ

1. **ë™ê¸°í™” ì§€ì—°**: ëŠë¦° ë„¤íŠ¸ì›Œí¬ì—ì„œ ë™ê¸°í™”ì— 1-2ì´ˆ ì†Œìš”
2. **ë…¸íŠ¸ ìˆœì„œ**: Dataview ì¿¼ë¦¬ ê²°ê³¼ ìˆœì„œê°€ ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ë™ì¼í•´ì•¼ í•¨

### í•´ê²° ë°©ë²•

1. **ë™ê¸°í™” ì§€ì—°**: ë¡œë”© ì¸ë””ì¼€ì´í„°ë¡œ ì‚¬ìš©ì í”¼ë“œë°± ì œê³µ
2. **ë…¸íŠ¸ ìˆœì„œ**: ì¼ê´€ëœ ì¿¼ë¦¬ ì‚¬ìš© ë° ì •ë ¬ ì ìš©

---

## í–¥í›„ ê°œì„  ê³„íš

1. **ì‹¤ì‹œê°„ ì›¹ì†Œì¼“ ë™ê¸°í™”**: WebSocketìœ¼ë¡œ ì¦‰ì‹œ ë™ê¸°í™”
2. **ì˜¤í”„ë¼ì¸ ëª¨ë“œ ê°œì„ **: ì˜¤í”„ë¼ì¸ì—ì„œì˜ í ê¸°ëŠ¥
3. **ë™ê¸°í™” ì¶©ëŒ í•´ì†Œ ê°œì„ **: ë” ì •êµí•œ ì¶©ëŒ í•´ì†Œ ì „ëµ
4. **ë™ê¸°í™” ëŒ€ì‹œë³´ë“œ**: ë™ê¸°í™” í˜„í™© ì‹œê°í™”

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-04
